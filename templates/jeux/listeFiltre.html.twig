{% extends 'base.html.twig' %}
{% block stylesheets %}
<style>
@media (max-width: 767px) {
    .card {
        margin: 0 auto; /* Ajout de cette règle pour centrer les cards */
        float: none;
    }
}
#back {
	display: flex;
}
</style>

{% endblock %}
{% block body %}
<div class="profile-background-color">
		<div class="container-wrapper">
			<div class="container col-12 text-center" id="container">
				<nav class="navbar" data-bs-theme="dark" style=" margin-bottom: 20px; width: 100%;">
					<div class="container-fluid">
						{% if app.user %}
							<a class="navbar-brand" href="{{path('profil_perso', {id: app.user.id})}}">Profil</a>
						{% endif %}
						<ul class="navbar-nav flex-row">
							<li class="nav-item me-3">
								<a class="nav-link active text-dark" href="{{path('app_jeux')}}">Home
									<span class="visually-hidden">(current)</span>
								</a>
							</li>
							{% if app.user %}
								<li class="nav-item me-3">
									<a class="nav-link text-dark" href="{{path('logout')}}">Se déconnecter</a>
								</li>
							{% else %}
								<li class="nav-item me-3">
									<a class="nav-link text-dark" href="{{path('login')}}">Se connecter</a>
								</li>
							{% endif %}
							<li class="nav-item me-3">
								<a class="nav-link text-dark" href="{{path('liste_jeux')}}">Trouver un partenaire</a>
							</li>
							{% if app.user %}
								<li class="nav-item me-3">
								<a class="nav-link text-dark" href="{{path('app_messagerie')}}">Messagerie</a>
								</li>
							{% endif %}
							{% if is_granted('ROLE_ADMIN') %}
								<li class="nav-item dropdown">
									<a class="nav-link text-dark" href="{{path('app_admin')}}" aria-expanded="false">BACKOFFICE</a>
								</li>
							{% endif %}
						</ul>
					</div>
				</nav>
<div class="container col-12 text-center">
				<a href="javascript:history.back()" id="back"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="m313-440 224 224-57 56-320-320 320-320 57 56-224 224h487v80H313Z"/></svg></a>
<h1 class="text-light">Liste des jeux {{genre}}</h1>

<div class="row">
			{% for jeu in jeux %}
				<div class="col mb-4">
					<div class="card mr-4" style="width: 18rem; height: 40rem;">
						<img src="{{ asset('images/' ~ jeu.photo) }}" class="card-img-top" alt="...">
						<div class="card-body d-flex flex-column">
							<h5 class="card-title">{{ jeu.nom }}</h5>
							<p class="card-text flex-grow-1">{{ jeu.presentation }}</p>
							<p class="mx-auto">{{ jeu.messages|length }}
								recherches de groupe</p>
							<div class="list-group-item">{{ jeu.studio }}</div>
							<div class="list-group-item">{{ jeu.genre }}</div>
							<div class="list-group-item">sorti le
								{{ jeu.dateSortie|date("d/m/Y") }}</div>
							<a href="{{path('fiche_jeux', {id: jeu.id})}}" class="btn btn-outline-info mb-2">Voir les messages</a>
							<a href="{{path('ajout_jeux', {id: jeu.id})}}" class="btn btn-outline-success">Ajouter à la liste</a>
						</div>
					</div>
				</div>
			{% endfor %}
		</div>
</div>

{% endblock %}