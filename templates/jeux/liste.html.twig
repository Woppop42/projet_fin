{% extends 'base.html.twig' %}

{% block body %}
	<div class="container col-12 text-center">
		<h2>Choisis ton jeux</h2>
		<a class="btn btn-primary m-3" data-bs-toggle="offcanvas" href="#offcanvasExample" role="button" aria-controls="offcanvasExample">
  Filtrer
</a>

<div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasExampleLabel">Filtre</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <div>
      Choisissez le filtre qui vous plaît.
    </div>
			<form action="{{path('liste_filtre')}}" method='GET'>
		<div class="form-group m-3">
			<label for="exampleSelect1" class="form-label mt-4">Sélection par genre</label>
			<select class="form-select" id="exampleSelect1" name="genre">

				<option value="FPS">FPS</option>
				<option value="MMORPG">MMORPG</option>
				<option value="Action RPG">Action RPG</option>
				<option value="Battle Royal">Battle Royal</option>
				<option value="Looter Shooter">Looter Shooter</option>
				<option value="TPS">TPS</option>
				<option value="RPG">RPG</option>

			</select>
			<button class="btn btn-outline-success mt-3" type="submit">Filtrer</button>
		</div>
		</form>
  </div>
</div>

		<div class="row">
			{% for jeu in jeux %}
				<div class="col mb-4">
					<div class="card mr-4" style="width: 18rem; height: 40rem;">
						<img src="{{ asset('images/' ~ jeu.photo) }}" class="card-img-top" alt="...">
						<div class="card-body d-flex flex-column">
							<h5 class="card-title">{{ jeu.nom }}</h5>
							<p class="card-text flex-grow-1">{{ jeu.presentation }}</p>
							<p class="mx-auto">{{ jeu.messages|length }}
								recherches de groupe</p>
							<div class="list-group-item">{{ jeu.studio }}</div>
							<div class="list-group-item">{{ jeu.genre }}</div>
							<div class="list-group-item">sorti le
								{{ jeu.dateSortie|date("d/m/Y") }}</div>
							<a href="{{path('fiche_jeux', {id: jeu.id})}}" class="btn btn-outline-info">Voir les messages</a>
							<a href="{{path('ajout_jeux', {id: jeu.id})}}" class="btn btn-outline-success">Ajouter à la liste</a>
						</div>
					</div>
				</div>
			{% endfor %}
		</div>
	</div>

{% endblock %}
