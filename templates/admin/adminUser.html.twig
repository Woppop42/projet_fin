{% extends 'base.html.twig' %}
{% block body %}

<div class="container col-12 text-center">
	<h1 class="text-center">Gestion des utilisateurs</h1>

	<table class="table table-dark">
		<thead>
			<tr>
				<th>ID</th>
				<th>Email</th>
				<th>Pseudo</th>
				<th>Date d'inscription</th>
				<th>Role</th>
				<th>Actions</th>
			</tr>
		</thead>

		<tbody>
			<tr>
				{% for user in users %}
					<tr>
						<td>{{user.id}}</td>
						<td>{{user.email}}</td>
						<td>{{user.pseudo}}</td>
						<td>{{user.dateInscription|date("d/m/Y à H:i:s")}}</td>
						<td>{{user.roles[0]}}</td>
						<td>
							<a href="{{ path('delete_user', {id: user.id})}}" class="btn btn-outline-danger">Supprimer</a>
							<a href="{{ path('update_user', {id: user.id})}}" class="btn btn-primary">
								Modifier un utilisateur
							</a>
						</td>
					</tr>
				</div>
			</tr>
		</tbody>
	</td>
</tr>{% endfor %}</tr></tbody></table><!-- Button trigger modal --><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">Créer un utilisateur</button><!-- Modal --><div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header">
<h1 class="modal-title fs-5 text-center" id="exampleModalLabel">Créer un utilisateur</h1>
<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body">
{{form_start(form)}}
{{form_row(form.pseudo)}}
{{form_row(form.email)}}
{{form_row(form.password)}}
{{form_row(form.roles)}}
<button class=" btn btn-outline-success" type="submit">Créer</button>
{{form_end(form)}}</div></div></div></div></div>{% endblock %}
